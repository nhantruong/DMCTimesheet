@model IEnumerable<DMCTimesheet.Models.C12_SubContractor>
@{
    ViewBag.Title = "Design Constractor Manage Page";
    //Layout = "~/Views/Shared/_AdminLayout.cshtml";
    string updateInfo = ViewBag.SaveContent;
    List<DMCTimesheet.Models.C11_Location> Locations = ViewBag.Location as List<DMCTimesheet.Models.C11_Location>;
}

<div class="row">
    <div class="col-md-10">
        <h3>
            DANH SÁCH NHÀ THẦU PHỤ THIẾT KẾ - <b>
                @if (Model == null)
                {
                    <b>0</b>}
                else
                {<b>@Model.Count()</b>}
            </b>
        </h3>
    </div>
    <div class="col-md-2">
        <button type="button" class="btn btn-danger btn-small text-right" data-toggle="modal" data-target="#form"><i class="fa fa-plus-circle"></i> Thêm mới NTP</button>
    </div>
</div>

@* Modal create new *@
<h3 class="text-danger">@ViewBag.Error</h3>

@* Form nhập liệu *@
<div id="form" class="modal fade" role="dialog">
    <div class="modal-dialog modal-m">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Thêm NTP mới</h3>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                @using (Html.BeginForm("CreateNewSubContractor", "Setting", FormMethod.Post))
                {
                    @Html.AntiForgeryToken()
                    <form>
                        @* WorkType *@
                        <div class="form-group row text-left text-dark">
                            <lable class="control-label col-md-3 col-sm-3 col-xs-3">Tên đầy đủ của NTP</lable>
                            <input type="text" class="form-control col-md-7 col-sm-9 col-xs-9" name="ContractorName" placeholder="Tên theo Hợp đồng" required="" value="" />
                        </div>
                        <div class="form-group row text-left text-dark">
                            <lable class="control-label col-md-3 col-sm-3 col-xs-3">Tên rút gọn</lable>
                            <input type="text" class="form-control col-md-7 col-sm-9 col-xs-9" name="ShortName" placeholder="Tên rút gọn" value="" />
                        </div>

                        <div class="form-group row text-left text-dark">
                            <lable class="control-label col-md-3 col-sm-3 col-xs-3">Vị trí</lable>
                            <select name="ContractorLocation" class="form-control col-md-7 col-sm-9 col-xs-9">
                                <option value=""></option>
                                @foreach (var item in Locations)
                                {
                                    <option value=@item.LocationId>@item.LocationName</option>
                                }
                            </select>
                        </div>

                        <br />
                        <div class="clearfix"></div>

                        <div class="form-group row text-left text-dark">
                            <lable class="control-label col-md-3 col-sm-3 col-xs-3">Dịch vụ thiết kế cung cấp</lable>
                        </div>
                        <div class="col-md-12 form-group inline text-primary">
                            <div class="col-md-3">
                                <div class="form-check">
                                    <input type="checkbox" name="ARC" value="true" class="form-check-input">
                                    <label class="form-check-label" for="ARC">Architecture</label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-check">
                                    <input type="checkbox" name="STR" value="true" class="form-check-input">
                                    <label class="form-check-label" for="STR">Structure</label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-check">
                                    <input type="checkbox" name="MEP" value="true" class="form-check-input">
                                    <label class="form-check-label" for="MEP">MEP</label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-check">
                                    <input type="checkbox" name="Interior" value="true" class="form-check-input">
                                    <label class="form-check-label" for="Interior">Interior</label>
                                </div>
                            </div>
                        </div>

                        <div class="clearfix"></div>

                        <div class="col-md-12 form-group inline text-primary">
                            <div class="col-md-3">
                                <div class="form-check">
                                    <input type="checkbox" name="Infrastructure" value="true" class="form-check-input">
                                    <label class="form-check-label" for="Infrastructure">Infrastructure</label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-check">
                                    <input type="checkbox" name="DTM" value="true" class="form-check-input">
                                    <label class="form-check-label" for="DTM">DTM</label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-check">
                                    <input type="checkbox" name="Render" value="true" class="form-check-input">
                                    <label class="form-check-label" for="Render">Render</label>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-check">
                                    <input type="checkbox" name="Landscape" value="true" class="form-check-input">
                                    <label class="form-check-label" for="Landscape">Landscape</label>
                                </div>
                            </div>
                        </div>

                        <br />
                        <div class="clearfix"></div>
                        <div class="form-group text-left">
                            <lable class="control-label col-md-3 col-sm-3 col-xs-3 text-left"></lable>
                            <input type="submit" value="Lưu thông tin NTP mới" class="btn btn-success col-md-7" />
                        </div>
                    </form>
                }
            </div>
            <div class="modal-footer">

                <div class="clearfix"></div>
            </div>
        </div>
    </div>
</div>
@* End Form nhập liệu *@


<div>
    <p class="text-danger">@ViewBag.SaveContent</p>
</div>

@*Table area*@
<div class="table-responsive col-md-12">
    <table class="table table-borderless">
        <tr class="text-white" style="background-color:#000000">
            <td class="col-sm-1">Tên đầy đủ theo HĐ</td>
            <td class="col-sm-1">Tên rút gọn</td>
            <td class="col-sm-1">Vị trí</td>
            <td class="col-md-6 text-center" colspan="6">Bộ môn</td>
        </tr>
        <tr class="text-white" style="background-color:#000000">
            <td class="col-md-1" colspan="1"></td>
            <td class="col-md-1" colspan="1"></td>
            <td class="col-md-1" colspan="1"></td>
            <td class="col-sm-1" colspan="1">Architect</td>
            <td class="col-sm-1" colspan="1">Structure</td>
            <td class="col-sm-1" colspan="1">MEP</td>
            <td class="col-sm-1" colspan="1">Interior</td>
            <td class="col-sm-1" colspan="1">Infrastructure</td>
            <td class="col-sm-1" colspan="1">DTM</td>
            <td class="col-sm-1" colspan="1">Render</td>
            <td class="col-sm-1" colspan="1">Landscape</td>
            <td class="col-sm-1">#</td>
        </tr>
    </table>
</div>
<div class="table-responsive" style="height:900px">
    <table class="table table-striped table-bordered">
        <tbody class="">
            @if (Model == null || Model.Count() == 0)
            {
                <tr class="row">
                    <td class="col-sm-1">Chưa có thông tin của NTP</td>
                </tr>
            }
            else
            {
                foreach (var item in Model.OrderBy(s => s.ShortName))
                {
                    <tr class="row">
                        <td class="col-sm-1"><b class="text-primary">@item.ContractorName</b></td>
                        <td class="col-sm-1"><b class="text-danger">@item.ShortName</b></td>
                        <td class="col-sm-1">
                            @if (item.ContractorLocation == null)
                            {
                                <a>-</a>
                            }
                            else
                            {
                                <a>@Locations.FirstOrDefault(s => s.LocationId == item.ContractorLocation).LocationName</a>
                            }
                        </td>
                        @* ARC *@
                        <td class="form-check col-1 text-center" colspan="1">
                            @if (item.ARC != null)
                            {
                                <input type="checkbox" class="form-check-input" value="@item.ARC" checked>
                            }
                            else
                            {
                                <input type="checkbox" class="form-check-input" value="@item.ARC">
                            }
                        </td>
                        @* STR *@
                        <td class="form-check col-1  text-center" colspan="1">
                            @if (item.STR != null)
                            {
                                <input type="checkbox" class="form-check-input" value="@item.STR" checked>
                            }
                            else
                            {
                                <input type="checkbox" class="form-check-input" value="@item.STR">
                            }
                        </td>
                        @* MEP *@
                        <td class="form-check col-1  text-center" colspan="1">
                            @if (item.MEP != null)
                            {
                                <input type="checkbox" class="form-check-input" value="@item.MEP" checked>
                            }
                            else
                            {
                                <input type="checkbox" class="form-check-input" value="@item.MEP">
                            }

                        </td>
                        @* Interior *@
                        <td class="form-check col-1  text-center" colspan="1">
                            @if (item.Interior != null)
                            {
                                <input type="checkbox" class="form-check-input" value="@item.Interior" checked>
                            }
                            else
                            {
                                <input type="checkbox" class="form-check-input" value="@item.Interior">
                            }
                        </td>
                        @* Infrastructure *@
                        <td class="form-check col-1  text-center" colspan="1">
                            @if (item.Infrastructure != null)
                            {
                                <input type="checkbox" class="form-check-input" value="@item.Infrastructure" checked>
                            }
                            else
                            {
                                <input type="checkbox" class="form-check-input" value="@item.Infrastructure">
                            }

                        </td>
                        @* DTM *@
                        <td class="form-check col-1  text-center" colspan="1">
                            @if (item.DTM != null)
                            {
                                <input type="checkbox" class="form-check-input" value="@item.DTM" checked>
                            }
                            else
                            {
                                <input type="checkbox" class="form-check-input" value="@item.DTM">
                            }
                        </td>
                        @* Render *@
                        <td class="form-check col-1  text-center" colspan="1">
                            @if (item.Render != null)
                            {
                                <input type="checkbox" class="form-check-input" value="@item.Render" checked>
                            }
                            else
                            {
                                <input type="checkbox" class="form-check-input" value="@item.Render">
                            }

                        </td>
                        @* Landscape *@
                        <td class="form-check col-1  text-center" colspan="1">
                            @if (item.Landscape != null)
                            {
                                <input type="checkbox" class="form-check-input" value="@item.Landscape" checked>
                            }
                            else
                            {
                                <input type="checkbox" class="form-check-input" value="@item.Landscape">
                            }
                        </td>

                        @* Button *@
                        <td class="col-md-1">
                            @Html.ActionLink(" ", "EditNTP", "Setting", new { Id = item.SubConId }, new { @class = "fa fa-edit" })
                            @Html.ActionLink(" ", "DeleteNTP", "Setting", new { Id = item.SubConId }, new { @class = "fa fa-remove btn" })
                        </td>
                    </tr>
                }
            }
        </tbody>

    </table>

</div>

