@model DMCTimesheet.Models.C02_Members
@{
    DMCTimesheet.Models.C06_UserPermisRelationship Userpermiss = Session["UserPermission"] as DMCTimesheet.Models.C06_UserPermisRelationship;
    ViewBag.Title = "Cập nhật thông tin thành viên";
    //Layout = "~/Views/Shared/_AdminLayout.cshtml";

    DMCTimesheet.Models.C02_Members loginUser = Session["UserLogin"] as DMCTimesheet.Models.C02_Members;
    string imgPath = "~/Assets/Photos/MemberImage/";
    try
    {
        if (loginUser == null)
        {
            imgPath = "~/Assets/Photos/MemberImage/no-image.jpg";
        }
        else
        {
            imgPath = "~/Assets/Photos/MemberImage/" + Model.Image;
        }

    }
    catch (Exception)
    {
        imgPath = "~/Assets/Photos/MemberImage/no-image.jpg";
    }
    //Data from controller
    List<DMCTimesheet.Models.C17_Position> Positions = ViewBag.Position as List<DMCTimesheet.Models.C17_Position>;
    List<DMCTimesheet.Models.C18_Descipline> desciplines = ViewBag.Descipline as List<DMCTimesheet.Models.C18_Descipline>;

}
<h3>@ViewBag.Title</h3>


<div class="form-group">
    <div class="col-md-3">
        <div class="container">
            <img src="@Url.Content(imgPath)" class="img-fluid k-content-frame">
        </div>
    </div>
    <div class="col-md-9">
        <div class="modal-body">
            @using (Html.BeginForm("DeleteMemberConfirmed", "Member", FormMethod.Post))
            {
                @Html.AntiForgeryToken()
                <form>
                    @* WorkType *@
                    <div class="form-group row text-left">
                        <lable class="control-label col-sm-3 col-sm-3 col-xs-3">User ID</lable>
                        <input type="number" class="form-control col-sm-7 col-sm-9 col-xs-9" name="UserID" readonly value="@Model.UserID" />
                    </div>
                    <div class="form-group row text-left">
                        <lable class="control-label col-sm-3 col-sm-3 col-xs-3">Tên đầy đủ</lable>
                        <input type="text" readonly class="form-control col-sm-7 col-sm-9 col-xs-9" name="FullName" placeholder="Tên đầy đủ" required="" value="@Model.FullName" />
                    </div>

                    <div class="form-group row text-left">
                        <lable class="control-label col-sm-3 col-sm-3 col-xs-3">Username</lable>
                        <input type="text" readonly class="form-control col-sm-7 col-sm-9 col-xs-9" name="UserName" placeholder="Tên theo email xxx@coteccons.vn" required="" value="@Model.UserName" />
                    </div>

                    <div class="form-group row">
                        <lable class="control-label col-sm-3 col-sm-3 col-xs-3 text-left">Email</lable>
                        <input type="email" readonly class="form-control col-sm-7 col-sm-9 col-xs-9" name="Email" placeholder="" value="@Model.Email" />
                    </div>

                    @* PositionID *@
                    <div class="form-group row  text-left">
                        <lable class="control-label col-sm-3 col-sm-3 col-xs-3">Chức vụ</lable>
                        <select name="Position" class="form-control col-sm-7 col-sm-9 col-xs-9">
                            <option value=@Model.Position>@Positions.FirstOrDefault(s => s.Id == Model.Position).PositionName</option>                            
                        </select>
                    </div>

                    @* Chuyen Mon ID *@
                    <div class="form-group row  text-left">
                        <lable class="control-label col-sm-3 col-sm-3 col-xs-3">Chuyên môn</lable>
                        <select name="Descipline" class="form-control col-sm-7 col-sm-9 col-xs-9">
                            <option value=@Model.Descipline>@desciplines.FirstOrDefault(s => s.Id == Model.Descipline).DesciplineName</option>                            
                        </select>
                    </div>

                    <div class="form-group text-left">
                        <lable class="control-label col-sm-3 col-sm-3 col-xs-3 text-left"></lable>
                        <input type="submit" value="Xóa" class="btn btn-danger col-sm-2" />
                    </div>
                </form>
            }
        </div>
    </div>
</div>

<div class="modal-footer">
    <div>
        <p class="text-danger">@ViewBag.Error</p>
    </div>
    <div class="clearfix"></div>
</div>
